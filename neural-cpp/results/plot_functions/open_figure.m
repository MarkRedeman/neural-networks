%% open_figure:
% helper function for opening a figure with a nice grid etc
function [fig] = open_figure(number, title_name, color, varargin)
    if (nargin < 1 || isempty(number))
        fig = figure;
    else
        fig = figure(number);
    end
    if (nargin < 2)
        title_name = mfilename;
    end
    if (nargin < 3)
        color = [1.0, 1.0, 1.0];
    end

    set(fig,                          ...
        'NumberTitle', 'off',         ...
        'Name',         title_name,   ...
        'Color',        color         ...
    );
        % 'MenuBar',      'none',       ...

    internal_fig = subplot(1, 1, 1);
    set(internal_fig,                         ...
        'Box',      'on',                      ...
        'NextPlot', 'add',                     ...
        'xgrid',    'on',                      ...
        'ygrid',    'on'                       ...
     );
    title(title_name);
end